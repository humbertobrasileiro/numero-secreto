{
    "sourceFile": "demo.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1724339861943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1724339861942,
            "name": "Commit-0",
            "content": "<!DOCTYPE \r\nhtml\r\n>\r\n<html>\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <title>Web Speech API Demo</title>\r\n    <style>\r\n      body\r\n      {\r\n        max-width: 500px;\r\n        margin: 2em auto;\r\n        font-size: 20px;\r\n      }\r\n\r\n      h1\r\n      {\r\n        text-align: center;\r\n      }\r\n\r\n      .buttons-wrapper\r\n      {\r\n        text-align: center;\r\n      }\r\n\r\n      .hidden\r\n      {\r\n        display: none;\r\n      }\r\n\r\n      #transcription,\r\n      #log\r\n      {\r\n        display: block;\r\n        width: 100%;\r\n        height: 5em;\r\n        overflow-y: scroll;\r\n        border: 1px solid #333333;\r\n        line-height: 1.3em;\r\n      }\r\n\r\n      .button-demo\r\n      {\r\n        padding: 0.5em;\r\n        display: inline-block;\r\n        margin: 1em auto;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <h1>Web Speech API</h1>\r\n    <h2>Transcription</h2>\r\n    <textarea id=\"transcription\" readonly=\"readonly\"></textarea>\r\n\r\n    <span>Results:</span>\r\n    <label><input type=\"radio\" name=\"recognition-type\" value=\"final\" checked=\"checked\" /> Final only</label>\r\n    <label><input type=\"radio\" name=\"recognition-type\" value=\"interim\" /> Interim</label>\r\n\r\n    <h3>Log</h3>\r\n    <div id=\"log\"></div>\r\n\r\n    <div class=\"buttons-wrapper\">\r\n      <button id=\"button-play-ws\" class=\"button-demo\">Play demo</button>\r\n      <button id=\"button-stop-ws\" class=\"button-demo\">Stop demo</button>\r\n      <button id=\"clear-all\" class=\"button-demo\">Clear all</button>\r\n    </div>\r\n    <span id=\"ws-unsupported\" class=\"hidden\">API not supported</span>\r\n\r\n    <script>\r\n      // Test browser support\r\n      window.SpeechRecognition = window.SpeechRecognition       ||\r\n                                 window.webkitSpeechRecognition ||\r\n                                 null;\r\n\r\n      if (window.SpeechRecognition === null) {\r\n        document.getElementById('ws-unsupported').classList.remove('hidden');\r\n        document.getElementById('button-play-ws').setAttribute('disabled', 'disabled');\r\n        document.getElementById('button-stop-ws').setAttribute('disabled', 'disabled');\r\n      } else {\r\n        var recognizer = new window.SpeechRecognition();\r\n        var transcription = document.getElementById('transcription');\r\n        var log = document.getElementById('log');\r\n\r\n        // Recogniser doesn't stop listening even if the user pauses\r\n        recognizer.continuous = true;\r\n\r\n        // Start recognising\r\n        recognizer.onresult = function(event) {\r\n          transcription.textContent = '';\r\n\r\n          for (var i = event.resultIndex; i < event.results.length; i++) {\r\n            if (event.results[i].isFinal) {\r\n              transcription.textContent = event.results[i][0].transcript + ' (Confidence: ' + event.results[i][0].confidence + ')';\r\n            } else {\r\n              transcription.textContent += event.results[i][0].transcript;\r\n            }\r\n          }\r\n        };\r\n\r\n        // Listen for errors\r\n        recognizer.onerror = function(event) {\r\n          log.innerHTML = 'Recognition error: ' + event.message + '<br />' + log.innerHTML;\r\n        };\r\n\r\n        document.getElementById('button-play-ws').addEventListener('click', function() {\r\n          // Set if we need interim results\r\n          recognizer.interimResults = document.querySelector('input[name=\"recognition-type\"][value=\"interim\"]').checked;\r\n\r\n          try {\r\n            recognizer.start();\r\n            log.innerHTML = 'Recognition started' + '<br />' + log.innerHTML;\r\n          } catch(ex) {\r\n            log.innerHTML = 'Recognition error: ' + ex.message + '<br />' + log.innerHTML;\r\n          }\r\n        });\r\n\r\n        document.getElementById('button-stop-ws').addEventListener('click', function() {\r\n          recognizer.stop();\r\n          log.innerHTML = 'Recognition stopped' + '<br />' + log.innerHTML;\r\n        });\r\n\r\n        document.getElementById('clear-all').addEventListener('click', function() {\r\n          transcription.textContent = '';\r\n          log.textContent = '';\r\n        });\r\n      }\r\n    </script>\r\n  </body>\r\n</html>"
        }
    ]
}